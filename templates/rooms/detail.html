{% extends "base.html" %}

{% block content %}
  <div ng-controller="RoomAPIController as room">
    <div class="page-header">
      <h1>[[room.data.name]]</h1>
    </div>
    <p>[[ room.data.created_at.$date | date ]]</p>
    <hr>
    {#{% for queue in room.queues %}#}
      <div ng-repeat="queue in room.data.queues" class="queue-container container">
        <div class="row">
          <h3 class="col-xs-6">Queue Name: [[ queue.name ]]</h3>
          <div class="col-xs-3 col-xs-offset-3"><a href="#" class="btn btn-default">Join</a></div>
        </div>
        <div class="row">
        <div class="col-xs-12">
          <h4>Resources:</h4>
          <div class="col-xs-4 resources-container">
            <div class="row">

            {#{% for resource in queue.resources %}#}
              <div ng-repeat="resource in queue.resources" class="col-xs-4 resource-info-container">
                <div class="resource-info text-center" >
                  [[ resource.name ]]
                    <div ng-show="resource.current_user" class="occupied-current-user">
                      <span class="btn btn-primary">
                        [[ resource.current_user.email ]]
                      </span>
                    </div>

                    <div ng-hide="resource.current_user" class="empty-current-user"><span>Empty</span></div>
                </div>
              </div>
            {#{% endfor %}#}
            </div>
          </div>
          <div class="col-xs-8 queue-elements-container">
            [[ queue.queue_elements ]]
          </div>
        </div>
        </div>
      </div>
    {#{% endfor %}#}
    {% if room.resources %}
      {% for resource in room.resources %}
         <p>{{ resource.name }}</p>

         {# 
         <p><strong>{{ comment.author }}</strong> <small>on {{ comment.created_at.strftime('%H:%M %Y-%m-%d') }}</small></p>
        {{ comment.text }}
          #}
      {% endfor %}
  {% endif %}
  </div>
{% endblock %}